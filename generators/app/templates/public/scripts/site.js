var app=angular.module("clementineJS",["ngResource","materialRipple"]);!function(window,angular,undefined){"use strict";var matRipple=angular.module("materialRipple",[]);matRipple.directive("materialRipple",function(){return{restrict:"A",link:function(scope,element,attrs){var x,y,size,offsets;element.on("click",function(event){function getPosition(element){var docElement=document.documentElement,elemSize=element.getBoundingClientRect(),top=elemSize.top+window.pageYOffset-docElement.clientTop,left=elemSize.left+window.pageXOffset-docElement.clientLeft;return{top:top,left:left}}"submit"!==element[0].type&&event.preventDefault();var ripple=this.querySelector(".material-ripple"),eventType=event.type;null===ripple&&(ripple=document.createElement("span"),ripple.classList.add("material-ripple"),this.insertBefore(ripple,this.firstChild),ripple.offsetHeight||ripple.offsetWidth||(size=Math.max(element[0].offsetWidth,element[0].offsetHeight),ripple.style.width=size+"px",ripple.style.height=size+"px")),ripple.classList.remove("animate"),"click"===eventType&&(x=event.pageX,y=event.pageY),offsets=getPosition(element[0]),ripple.style.left=x-offsets.left-size/2+"px",ripple.style.top=y-offsets.top-size/2+"px",ripple.classList.add("animate")})}}})}(window,window.angular),app.controller("linkCtrlr",function($scope,$timeout){function getHref(e){return"img"===e.srcElement.localName?e.target.offsetParent.attributes.href.nodeValue:e.target.href}$scope.delayLink=function(e){$timeout(function(){var url=getHref(e);window.open(url,"_blank")},350)},$scope.delayLinkNav=function(e){$timeout(function(){var url=getHref(e);window.open(url,"_self")},350)}}),app.controller("commentCtrlr",["$scope","$resource",function($scope,$resource){var Comment=$resource("/api/comments");$scope.limitQuantity=-5,$scope.orderProperty="_id",$scope.queryComments=function(){Comment.query(function(results){if($scope.comments=results,0===$scope.comments.length){var firstComment=new Comment;firstComment.email="sunnyside@citruslovers.com",firstComment.comments="The best thing to happen to internet citrus since the orange press!",firstComment.$save(function(result){$scope.comments.push(result)})}})},$scope.queryComments(),$scope.createComment=function(){if($scope.commentForm.$valid){var comment=new Comment;comment.email=$scope.commentEmail,comment.comments=$scope.commentBody,comment.$save(function(result){$scope.comments.push(result),$scope.commentEmail="",$scope.commentBody="",$scope.queryComments()})}},$scope.deleteComments=function(){0!==$scope.comments.length&&Comment["delete"]($scope.comments,function(){$scope.queryComments()})}}]);